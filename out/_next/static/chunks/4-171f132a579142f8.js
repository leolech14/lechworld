"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4],{7004:(e,t,l)=>{l.d(t,{V:()=>R});var o=l(5155),s=l(7340),r=l(6516),c=l(1788),a=l(9869),n=l(3904),i=l(2713),d=l(381),u=l(9245),m=l(9947),x=l(4835),h=l(8619),p=l(8829),b=l(7602),f=l(1400),g=l(760),C=l(2115),j=l(2596),y=l(9688);function v(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return(0,y.QP)((0,j.$)(t))}let E=(0,C.createContext)(void 0);function N(e){let{children:t,value:l}=e;return(0,o.jsx)(E.Provider,{value:l,children:t})}function k(e){let{children:t,className:l,spring:s={mass:.1,stiffness:150,damping:12},magnification:r=80,distance:c=150,panelHeight:a=64}=e,n=(0,h.d)(1/0),i=(0,h.d)(0),d=(0,C.useMemo)(()=>Math.max(128,r+r/2+4),[r]),u=(0,p.G)(i,[0,1],[a,d]),m=(0,b.z)(u,s);return(0,o.jsx)(f.P.div,{style:{height:m,scrollbarWidth:"none"},className:"mx-2 flex max-w-full items-end overflow-x-auto",children:(0,o.jsx)(f.P.div,{onMouseMove:e=>{let{pageX:t}=e;i.set(1),n.set(t)},onMouseLeave:()=>{i.set(0),n.set(1/0)},className:v("mx-auto flex w-fit gap-4 rounded-2xl backdrop-blur-md px-4 shadow-xl",l),style:{height:a,backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid rgba(76, 194, 215, 0.3)"},role:"toolbar","aria-label":"Application dock",children:(0,o.jsx)(N,{value:{mouseX:n,spring:s,distance:c,magnification:r},children:t})})})}function w(e){let{children:t,className:l,onClick:s}=e,r=(0,C.useRef)(null),{distance:c,magnification:a,mouseX:n,spring:i}=function(){let e=(0,C.useContext)(E);if(!e)throw Error("useDock must be used within an DockProvider");return e}(),d=(0,h.d)(0),u=(0,p.G)(n,e=>{var t,l;let o=null!=(l=null==(t=r.current)?void 0:t.getBoundingClientRect())?l:{x:0,width:0};return e-o.x-o.width/2}),m=(0,p.G)(u,[-c,0,c],[40,a,40]),x=(0,b.z)(m,i);return(0,o.jsx)(f.P.div,{ref:r,style:{width:x},onHoverStart:()=>d.set(1),onHoverEnd:()=>d.set(0),onFocus:()=>d.set(1),onBlur:()=>d.set(0),onClick:s,className:v("relative inline-flex items-center justify-center",l),tabIndex:0,role:"button","aria-haspopup":"true",children:C.Children.map(t,e=>(0,C.cloneElement)(e,{width:x,isHovered:d}))})}function D(e){let{children:t,className:l,...s}=e,r=s.isHovered,[c,a]=(0,C.useState)(!1);return(0,C.useEffect)(()=>{let e=r.on("change",e=>{a(1===e)});return()=>e()},[r]),(0,o.jsx)(g.N,{children:c&&(0,o.jsx)(f.P.div,{initial:{opacity:0,y:0},animate:{opacity:1,y:-10},exit:{opacity:0,y:0},transition:{duration:.2},className:v("absolute -top-6 left-1/2 w-fit whitespace-pre rounded-md px-2 py-0.5 text-xs",l),role:"tooltip",style:{x:"-50%",backgroundColor:"#FFD700",color:"#026E81",border:"1px solid rgba(255, 215, 0, 0.5)"},children:t})})}function S(e){let{children:t,className:l,...s}=e,r=s.width,c=(0,p.G)(r,e=>e/2);return(0,o.jsx)(f.P.div,{style:{width:c},className:v("flex items-center justify-center",l),children:t})}var M=l(1901),L=l(5695),A=l(441);function R(){let{currentUser:e,logout:t,exportData:l,language:h}=(0,M.P)(),p=(0,L.useRouter)(),[b,f]=(0,C.useState)(!1),g=[{title:(0,A.t)("home",h),icon:(0,o.jsx)(s.A,{className:"h-full w-full",style:{color:"#026E81"}}),onClick:()=>p.push("/dashboard"),bgColor:"#4CC2D7",borderColor:"#026E81"},{title:(0,A.t)("shareReport",h),icon:(0,o.jsx)(r.A,{className:"h-full w-full",style:{color:"#026E81"}}),onClick:()=>{var t;let l,o=(t=(()=>{let{accounts:e,milesValue:t}=M.P.getState(),l=0,o=0,s={},r={};return Object.entries(e).forEach(e=>{let[c,a]=e;s[c]={miles:0,value:0,programs:[]},Object.entries(a).forEach(e=>{let[a,n]=e,i=n.miles||0,d=i*t[a];l+=i,o+=d,s[c].miles+=i,s[c].value+=d,i>0&&(s[c].programs.push({program:a,miles:i,status:n.status}),r[a]||(r[a]=0),r[a]+=i)})}),{totalMiles:l,totalValue:o,memberDetails:s,programTotals:r}})(),l="".concat((0,A.t)("familyMilesReport",h),"\n")+"\uD83D\uDCC5 ".concat(new Date().toLocaleDateString("pt-BR")," • ").concat(new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),"\n\n")+"━━━━━━━━━━━━━━━━━━━━\n"+"".concat((0,A.t)("portfolioSummary",h),"\n")+"━━━━━━━━━━━━━━━━━━━━\n\n"+"".concat((0,A.t)("familyMembers",h),": ").concat(Object.keys(t.memberDetails).length,"\n")+"✈️ ".concat((0,A.t)("totalMiles",h),": *").concat(t.totalMiles.toLocaleString(),"*\n")+"\uD83D\uDCB0 ".concat((0,A.t)("totalValue",h),": *R$ ").concat(t.totalValue.toFixed(2),"*\n")+"\uD83D\uDCC8 Avg per ".concat((0,A.t)("member",h),": ").concat(Math.round(t.totalMiles/Object.keys(t.memberDetails).length).toLocaleString()," ").concat((0,A.t)("miles",h),"\n\n")+"━━━━━━━━━━━━━━━━━━━━\n"+"".concat((0,A.t)("memberBreakdown",h),"\n")+"━━━━━━━━━━━━━━━━━━━━\n\n",Object.entries(t.memberDetails).forEach(e=>{let[t,o]=e;o.miles>0&&(l+="*".concat(t,"*\n"),l+="├ ".concat((0,A.t)("total",h),": ").concat(o.miles.toLocaleString()," ").concat((0,A.t)("miles",h),"\n"),l+="├ ".concat((0,A.t)("value",h),": R$ ").concat(o.value.toFixed(2),"\n"),l+="└ ".concat((0,A.t)("programs",h),":\n"),o.programs.forEach((e,t)=>{let s=t===o.programs.length-1,r=e.status?" (".concat(e.status,")"):"";l+="  ".concat(s?"└":"├"," ").concat(e.program,": ").concat(e.miles.toLocaleString()).concat(r,"\n")}),l+="\n")}),l+="━━━━━━━━━━━━━━━━━━━━\n",l+="✈️ *".concat((0,A.t)("airlineTotals",h).toUpperCase(),"*\n"),l+="━━━━━━━━━━━━━━━━━━━━\n\n",Object.entries(t.programTotals).sort((e,t)=>t[1]-e[1]).forEach(e=>{let[o,s]=e,r=(s/t.totalMiles*100).toFixed(1);l+="".concat(o,": ").concat(s.toLocaleString()," (").concat(r,"%)\n")}),l+="\n━━━━━━━━━━━━━━━━━━━━\n",l+="".concat((0,A.t)("generatedBy",h),"\n"),l+="\uD83D\uDC64 ".concat((null==e?void 0:e.name)||"User","\n"),l+="━━━━━━━━━━━━━━━━━━━━");window.open("https://wa.me/?text=".concat(encodeURIComponent(o)),"_blank")},bgColor:"#4CC2D7",borderColor:"#026E81"},{title:(0,A.t)("export",h),icon:(0,o.jsx)(c.A,{className:"h-full w-full",style:{color:"#026E81"}}),onClick:()=>{let e=new Blob([l()],{type:"application/json"}),t=URL.createObjectURL(e),o=document.createElement("a");o.href=t,o.download="lechworld-backup-".concat(Date.now(),".json"),o.click()},bgColor:"#4CC2D7",borderColor:"#026E81"},{title:(0,A.t)("import",h),icon:(0,o.jsx)(a.A,{className:"h-full w-full",style:{color:"#026E81"}}),onClick:()=>{let e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=e=>{var t;let l=null==(t=e.target.files)?void 0:t[0];if(l){let e=new FileReader;e.onload=e=>{try{var t;let l=JSON.parse(null==(t=e.target)?void 0:t.result);M.P.getState().importData(l),alert("pt"===h?"Dados importados com sucesso!":"Data imported successfully!")}catch(e){alert("pt"===h?"Erro ao importar arquivo":"Error importing file")}},e.readAsText(l)}},e.click()},bgColor:"#4CC2D7",borderColor:"#026E81"},{title:(0,A.t)("refresh",h),icon:(0,o.jsx)(n.A,{className:"h-full w-full",style:{color:"#026E81"}}),onClick:()=>{let{accounts:e,milesValue:t}=M.P.getState();M.P.setState({accounts:{...e}});let l=document.querySelector('[title="'.concat((0,A.t)("refresh",h),'"] svg'));l&&(l.classList.add("animate-spin"),setTimeout(()=>l.classList.remove("animate-spin"),1e3))},bgColor:"#4CC2D7",borderColor:"#026E81"},{title:(0,A.t)("statistics",h),icon:(0,o.jsx)(i.A,{className:"h-full w-full",style:{color:"#026E81"}}),onClick:()=>p.push("/statistics"),bgColor:"#4CC2D7",borderColor:"#026E81"},{title:(0,A.t)("settings",h),icon:(0,o.jsx)(d.A,{className:"h-full w-full",style:{color:"#026E81"}}),onClick:()=>p.push("/settings"),bgColor:"#4CC2D7",borderColor:"#026E81"},{title:(0,A.t)("guide",h),icon:(0,o.jsx)(u.A,{className:"h-full w-full",style:{color:"#026E81"}}),onClick:()=>p.push("/guide"),bgColor:"#4CC2D7",borderColor:"#026E81"},{title:(0,A.t)("help",h),icon:(0,o.jsx)(m.A,{className:"h-full w-full",style:{color:"#026E81"}}),onClick:()=>f(!0),bgColor:"#4CC2D7",borderColor:"#026E81"},{title:(0,A.t)("logout",h),icon:(0,o.jsx)(x.A,{className:"h-full w-full",style:{color:"#026E81"}}),onClick:()=>{t(),p.push("/")},bgColor:"#4CC2D7",borderColor:"#026E81"}];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"flex items-center justify-between px-6 py-4 backdrop-blur-md shadow-sm",style:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderBottom:"1px solid rgba(76, 194, 215, 0.2)"},children:(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsxs)("button",{onClick:()=>p.push("/dashboard"),className:"flex items-center gap-3 transition-transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-400 rounded-lg",children:[(0,o.jsx)("img",{src:"/lechworld-logo.png",alt:"LechWorld",className:"w-12 h-12 object-contain"}),(0,o.jsx)("span",{style:{color:"#026E81",fontWeight:"bold",fontSize:"1.5rem"},children:"LechWorld"})]}),e&&(0,o.jsxs)("span",{className:"px-3 py-1.5 rounded-full text-sm font-semibold shadow-md",style:{background:"#FFD700",color:"#026E81"},children:["\uD83D\uDC64 ",e.name]})]})}),(0,o.jsx)("div",{className:"fixed bottom-5 left-1/2 max-w-full -translate-x-1/2 z-50",children:(0,o.jsx)(k,{className:"items-end pb-3",children:g.map((e,t)=>(0,o.jsxs)(w,{className:"aspect-square rounded-full cursor-pointer shadow-sm backdrop-blur-sm",onClick:e.onClick,children:[(0,o.jsx)(D,{children:e.title}),(0,o.jsx)(S,{children:(0,o.jsx)("div",{className:"w-full h-full rounded-full flex items-center justify-center p-3",style:{backgroundColor:e.bgColor,border:"2px solid ".concat(e.borderColor)},children:e.icon})})]},t))})}),b&&(0,o.jsx)("div",{className:"fixed inset-0 backdrop-blur-sm flex items-center justify-center p-4 z-[60]",style:{backgroundColor:"rgba(2, 110, 129, 0.6)"},onClick:()=>f(!1),children:(0,o.jsxs)("div",{className:"rounded-2xl shadow-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",style:{backgroundColor:"rgba(255, 255, 255, 0.98)",border:"1px solid rgba(76, 194, 215, 0.5)"},onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-2xl font-bold",style:{color:"#026E81"},children:(0,A.t)("lechWorldHelp",h)}),(0,o.jsx)("p",{className:"text-sm mt-1",style:{color:"#026E81"},children:(0,A.t)("milesManagementCompanion",h)})]}),(0,o.jsx)("button",{onClick:()=>f(!1),className:"p-1 rounded-lg transition-colors",style:{color:"#026E81"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="rgba(76, 194, 215, 0.2)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:(0,o.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"p-4 rounded-xl",style:{backgroundColor:"rgba(76, 194, 215, 0.1)",border:"1px solid rgba(76, 194, 215, 0.2)"},children:[(0,o.jsx)("h3",{className:"font-bold mb-2",style:{color:"#026E81"},children:(0,A.t)("quickStart",h)}),(0,o.jsx)("p",{className:"text-sm",style:{color:"#026E81"},children:(0,A.t)("welcomeHelp",h)}),(0,o.jsxs)("ul",{className:"mt-2 space-y-1 text-sm",style:{color:"#026E81"},children:[(0,o.jsxs)("li",{children:["• ",(0,A.t)("clickMemberCard",h)]}),(0,o.jsxs)("li",{children:["• ",(0,A.t)("useDockActions",h)]}),(0,o.jsxs)("li",{children:["• ",(0,A.t)("dataAutoSaved",h)]})]})]}),(0,o.jsxs)("div",{className:"p-4 rounded-xl",style:{backgroundColor:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)"},children:[(0,o.jsx)("h3",{className:"font-bold mb-2",style:{color:"#026E81"},children:(0,A.t)("features",h)}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"font-semibold",style:{color:"#026E81"},children:(0,A.t)("dashboard",h)}),(0,o.jsx)("p",{style:{color:"#4CC2D7"},children:(0,A.t)("viewFamilyMembers",h)})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"font-semibold",style:{color:"#026E81"},children:(0,A.t)("statistics",h)}),(0,o.jsx)("p",{style:{color:"#4CC2D7"},children:(0,A.t)("analyzePortfolio",h)})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"font-semibold",style:{color:"#026E81"},children:(0,A.t)("shareReport",h)}),(0,o.jsx)("p",{style:{color:"#4CC2D7"},children:(0,A.t)("sendWhatsApp",h)})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("p",{className:"font-semibold",style:{color:"#026E81"},children:[(0,A.t)("import",h),"/",(0,A.t)("export",h)]}),(0,o.jsx)("p",{style:{color:"#4CC2D7"},children:(0,A.t)("backupRestore",h)})]})]})]}),(0,o.jsxs)("div",{className:"p-4 rounded-xl",style:{backgroundColor:"rgba(175, 243, 255, 0.2)",border:"1px solid rgba(76, 194, 215, 0.3)"},children:[(0,o.jsx)("h3",{className:"font-bold mb-2",style:{color:"#026E81"},children:(0,A.t)("settingsHelp",h)}),(0,o.jsx)("p",{className:"text-sm",style:{color:"#026E81"},children:(0,A.t)("customizeMiles",h)})]}),(0,o.jsxs)("div",{className:"p-4 rounded-xl",style:{backgroundColor:"rgba(2, 110, 129, 0.1)",border:"1px solid rgba(2, 110, 129, 0.2)"},children:[(0,o.jsx)("h3",{className:"font-bold mb-2",style:{color:"#026E81"},children:(0,A.t)("security",h)}),(0,o.jsx)("p",{className:"text-sm",style:{color:"#026E81"},children:(0,A.t)("dataStoredLocally",h)})]}),(0,o.jsxs)("div",{className:"p-4 rounded-xl border",style:{borderColor:"#4CC2D7"},children:[(0,o.jsx)("h3",{className:"font-bold mb-2",style:{color:"#026E81"},children:(0,A.t)("tips",h)}),(0,o.jsxs)("ul",{className:"space-y-1 text-sm",style:{color:"#026E81"},children:[(0,o.jsxs)("li",{children:["• ",(0,A.t)("clickOutsideClose",h)]}),(0,o.jsxs)("li",{children:["• ",(0,A.t)("pressEnterNavigate",h)]}),(0,o.jsxs)("li",{children:["• ",(0,A.t)("useRefresh",h)]}),(0,o.jsxs)("li",{children:["• ",(0,A.t)("regularExports",h)]})]})]}),(0,o.jsxs)("div",{className:"text-center pt-4",style:{borderTop:"1px solid rgba(76, 194, 215, 0.2)"},children:[(0,o.jsx)("p",{className:"text-sm",style:{color:"#026E81"},children:(0,A.t)("version",h)}),(0,o.jsx)("p",{className:"text-xs mt-1",style:{color:"#026E81"},children:(0,A.t)("copyright",h)})]})]})]})})]})}}}]);